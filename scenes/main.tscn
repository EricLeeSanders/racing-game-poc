[gd_scene load_steps=8 format=3 uid="uid://c1jx5x7y8m2nq"]

[ext_resource type="PackedScene" uid="uid://bvn8k7y9m3pqr" path="res://scenes/car.tscn" id="1"]
[ext_resource type="PackedScene" uid="uid://d4n9k8z0n5rst" path="res://scenes/ui.tscn" id="2"]
[ext_resource type="Script" path="res://scripts/lap_manager.gd" id="3"]
[ext_resource type="PackedScene" uid="uid://c5p0m9q2r4uvw" path="res://scenes/checkpoint.tscn" id="4"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_1"]

[sub_resource type="Sky" id="Sky_1"]
sky_material = SubResource("ProceduralSkyMaterial_1")

[sub_resource type="Environment" id="Environment_1"]
background_mode = 2
sky = SubResource("Sky_1")
ambient_light_source = 3

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 10, 0)
shadow_enabled = true

[node name="Track" type="Node3D" parent="."]

[node name="Ground" type="CSGBox3D" parent="Track"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(100, 1, 100)

[node name="Road" type="CSGBox3D" parent="Track"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.01, 0)
use_collision = true
size = Vector3(10, 0.1, 80)

[node name="RoadCurve1" type="CSGBox3D" parent="Track"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 35, 0.01, 35)
use_collision = true
size = Vector3(10, 0.1, 60)

[node name="RoadCurve2" type="CSGBox3D" parent="Track"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0.01, 60)
use_collision = true
size = Vector3(10, 0.1, 60)

[node name="RoadCurve3" type="CSGBox3D" parent="Track"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -35, 0.01, 35)
use_collision = true
size = Vector3(10, 0.1, 60)

[node name="StartLine" type="CSGBox3D" parent="Track"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.02, -38)
size = Vector3(10, 0.05, 2)

[node name="Car" parent="." instance=ExtResource("1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -35)

[node name="LapManager" type="Node3D" parent="."]
script = ExtResource("3")

[node name="Checkpoints" type="Node3D" parent="."]

[node name="Checkpoint0" parent="Checkpoints" instance=ExtResource("4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -38)
checkpoint_id = 0

[node name="Checkpoint1" parent="Checkpoints" instance=ExtResource("4")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 35, 2, 5)
checkpoint_id = 1

[node name="Checkpoint2" parent="Checkpoints" instance=ExtResource("4")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 2, 60)
checkpoint_id = 2

[node name="Checkpoint3" parent="Checkpoints" instance=ExtResource("4")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -35, 2, 5)
checkpoint_id = 3

[node name="UI" parent="." instance=ExtResource("2")]
